<section id="contact" class="contact w-full">
    <div class="container px-12">
        <div class="section-header">
            <h2 class="section-title">Let's Create Something Special</h2>
            <p class="section-subtitle">Ready to elevate your next event?</p>
        </div>
        <div class="contact-content">
            <div class="contact-info">
                <div class="contact-item">
                    <div class="contact-icon">
                        <i class="fa-solid fa-envelope"></i>
                    </div>
                    <div class="contact-details">
                        <h3>Email</h3>
                        <p>hello@tableofthree.com</p>
                    </div>
                </div>
                <div class="contact-item">
                    <div class="contact-icon">
                        <i class="fa-solid fa-phone"></i>
                    </div>
                    <div class="contact-details">
                        <h3>Phone</h3>
                        <p>07787 163522</p>
                    </div>
                </div>
                <div class="contact-item">
                    <div class="contact-icon">
                        <i class="fa-solid fa-location-dot"></i>
                    </div>
                    <div class="contact-details">
                        <h3>Service Area</h3>
                        <p>Belfast and surrounding areas</p>
                    </div>
                </div>
            </div>
            <div class="contact-form">
                <form class="form">
                    <div class="form-group">
                        <input
                            type="text"
                            id="name"
                            name="name"
                            placeholder="Your Name"
                            required
                        />
                    </div>
                    <div class="form-group">
                        <input
                            type="email"
                            id="email"
                            name="email"
                            placeholder="Your Email"
                            required
                        />
                    </div>
                    <div class="form-group">
                        <input
                            type="tel"
                            id="phone"
                            name="phone"
                            placeholder="Your Phone"
                        />
                    </div>
                    <div class="form-group">
                        <select id="service" name="service" required>
                            <option value="">Select Service Type</option>
                            <option value="wedding">Wedding</option>
                            <option value="corporate">Corporate Event</option>
                            <option value="private">Private Dining</option>
                            <option value="special">Special Event</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <input
                            type="text"
                            id="event-date"
                            name="event-date"
                            placeholder="dd/mm/yyyy"
                            pattern="\d{2}/\d{2}/\d{4}"
                            maxlength="10"
                        />
                    </div>
                    <div class="form-group">
                        <textarea
                            id="message"
                            name="message"
                            placeholder="Tell us about your event..."
                            rows="5"></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full"
                        >Send Message</button
                    >
                </form>
            </div>
        </div>
    </div>
</section>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const dateInput = document.getElementById(
            "event-date",
        ) as HTMLInputElement;

        if (dateInput) {
            dateInput.addEventListener("input", (e) => {
                const target = e.target as HTMLInputElement;
                if (!target) return;

                let value = target.value.replace(/\D/g, ""); // Remove all non-digits

                // Add slashes automatically
                if (value.length >= 2) {
                    value = value.substring(0, 2) + "/" + value.substring(2);
                }
                if (value.length >= 5) {
                    value = value.substring(0, 5) + "/" + value.substring(5, 9);
                }

                target.value = value;
            });

            // Prevent invalid characters on keydown
            dateInput.addEventListener("keydown", (e) => {
                // Allow: backspace, delete, tab, escape, enter, and arrow keys
                if (
                    [8, 9, 27, 13, 46, 37, 38, 39, 40].indexOf(e.keyCode) !==
                        -1 ||
                    // Allow Ctrl+A, Ctrl+C, Ctrl+V, Ctrl+X
                    (e.keyCode === 65 && e.ctrlKey === true) ||
                    (e.keyCode === 67 && e.ctrlKey === true) ||
                    (e.keyCode === 86 && e.ctrlKey === true) ||
                    (e.keyCode === 88 && e.ctrlKey === true)
                ) {
                    return;
                }
                // Ensure that it is a number and stop the keypress
                if (
                    (e.shiftKey || e.keyCode < 48 || e.keyCode > 57) &&
                    (e.keyCode < 96 || e.keyCode > 105)
                ) {
                    e.preventDefault();
                }
            });
        }
    });
</script>
